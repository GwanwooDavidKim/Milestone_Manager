# Milestone Manager

## 프로젝트 개요

**Milestone Manager**는 타임라인 기반의 마일스톤과 이벤트를 시각화하는 데스크톱 애플리케이션입니다. PyQt6를 사용하여 애플 스타일의 현대적이고 직관적인 UI를 제공하며, 모든 데이터는 로컬 JSON 파일에 저장됩니다.

## 최근 변경사항

- **2025-10-17**: UI/UX 개선 및 사용성 향상 ✅
  - **단축키 추가/단순화**:
    - Data Load: Ctrl+L 추가 ⭐
    - Node 추가/수정 단축키 제거, 삭제(Ctrl+D)만 남김
  - **타임라인 막대 색상 변경**: 다크 블루그레이(#2C3E50) ⭐
  - **버튼 크기 축소**: 세로 크기 줄이고 padding 조정 (깔끔한 UI)
  - **엔터키로 확인**: 모든 다이얼로그에서 엔터키로 확인 버튼 클릭 가능
  - **이미지 내보내기 개선** ⭐:
    - 각 마일스톤 블록별로 분리 저장
    - Milestone_IMG 폴더에 자동 저장
    - filename_1.png, filename_2.png 형식으로 자동 저장
    - 저장된 파일 목록 표시
  - **전체 UI 크기 축소** ⭐:
    - 버튼, 글자, 블록 크기 80% 수준으로 축소
    - 1920x1080 해상도에 최적화
    - 간격과 여백 조정으로 깔끔한 레이아웃

- **2025-10-17**: 마일스톤 블록별 독립적인 노드 선택 및 단축키 개선 ✅
  - **마일스톤 생성 다이얼로그 간격 조정**: 부제목 입력창과 버튼 간격 증가 (겹침 해결)
  - **메모/첨부파일 이모티콘 수정** ⭐:
    - QPushButton으로 변경하여 클릭 이벤트 확실히 작동
    - 📎 클릭 시 첨부파일 열기
    - 📝 클릭 시 메모 다이얼로그 표시
  - **마일스톤 블록별 독립적인 노드 선택** ⭐:
    - 각 마일스톤 블록이 자신의 선택된 노드를 독립적으로 관리
    - 마일스톤 1에서 노드 선택 후 마일스톤 2에서 노드 선택해도 각각 독립적
    - Node 수정/삭제 버튼이 해당 마일스톤의 선택된 노드만 처리
  - **단축키 로직 개선** ⭐:
    - Ctrl+N: 노드가 선택된 마일스톤에 추가 (선택 없으면 첫 번째 마일스톤)
    - Ctrl+E: 선택된 노드 수정
    - Ctrl+D: 선택된 노드 삭제

- **2025-10-17**: 모든 UI 이슈 해결 및 기능 개선 완료 ✅
  - **로그인창 제목 수정**: "Milestone Manager" 제목이 제대로 보이도록 수정 (minHeight 설정)
  - **체크박스와 노드 간격 조정**: 체크박스 크기 축소 및 간격 증가 (겹침 해결)
  - **검색/필터 기능 개선** ⭐:
    - 제목과 부제목에서만 검색 (노드 내용 제외)
    - 필터 적용 상태 표시 (파란색 배지)
    - 필터 해제 버튼 추가
  - **타임라인 빈 연도 표시** ⭐:
    - 24년, 25년, 27년 데이터가 있으면 26년도 눈금선 표시
    - 최소~최대 연도 사이의 모든 연도 표시
  - **메모 툴팁 기능 구현** ⭐:
    - 노드에 마우스 오버 시 메모 내용 표시
    - 메모가 없으면 내용 표시
  - **마일스톤 다이얼로그 간격 증가**:
    - 제목과 부제목 입력창 사이 간격 증가 (구분 명확)

- **2025-10-17**: UI 텍스트 짤림 해결 및 타임라인 개선
  - 로그인창 "Milestone Manager" 제목 글씨 짤림 수정 (padding 증가)
  - 다이얼로그 입력창 placeholder 글씨 짤림 수정 (padding 조정)
  - **타임라인 연도별 균등 배치** ⭐:
    - 데이터에 있는 연도(24년, 25년 등)를 추출
    - 각 연도를 타임라인에 균등한 간격으로 배치
    - 각 연도 내에서 분기(Q1-Q4)와 월(1-12)을 균등 배치
  - **노드 선택 방식 변경** ⭐:
    - 노드 클릭 방식 → 체크박스 방식으로 변경
    - 노드 왼쪽에 체크박스 추가
    - 한 번에 하나의 노드만 선택 가능
    - 선택된 노드만 수정/삭제 가능

- **2025-10-17**: 라이트 모드로 전면 개편 및 UI/UX 대폭 개선
  - 다크모드 → 라이트모드 변경 (사용자 선호도 반영)
  - 애플 스타일의 깔끔한 라이트 테마 적용
  - 타임라인 눈금선 개선:
    - 분기별 큰 눈금 (24.Q1, 24.Q2 형식으로 표시)
    - 월별 작은 눈금 (12개월 정확히 표시)
  - 날짜 입력 양식 검증 추가 (24.10 또는 24.Q2만 허용)
  - 24.Q1 형식 날짜 파싱 로직 수정
  - Node 크기 축소 (더 깔끔한 표현)
  - 메모 툴팁 기능 개선 (마우스 오버 시 정확히 표시)
  - 버튼 padding 조정 (글자 짤림 해결)
  - 로그인창 입력칸 높이 증가 (글자 짤림 해결)

- **2025-10-17**: PyQt6로 완전 재작성
  - CustomTkinter → PyQt6로 전환
  - 고급스러운 디자인 적용

## 프로젝트 구조

```
.
├── main.py                 # 애플리케이션 진입점 (로그인 & 라이선스)
├── data_manager.py         # raw.json 데이터 관리
├── ui_main_window.py       # 메인 UI 윈도우
├── timeline_canvas.py      # 타임라인 시각화 컴포넌트
├── custom_widgets.py       # 커스텀 다이얼로그 위젯
├── raw.json               # 데이터 저장 파일 (자동 생성)
└── .gitignore             # Git 무시 파일
```

## 주요 기능

### 1. 로그인 및 라이선스 관리
- **하드코딩된 계정**: MCI / mci2025!
- **라이선스 만료일**: 2025-12-31
- 만료일 30일 전부터 경고 메시지 표시
- 라이트 모드 메시지 박스 (가독성 향상)

### 2. 마일스톤 블록 관리
- 애플 스타일 라이트 테마 디자인
- 흰색 배경, 깔끔한 외곽선
- 제목과 부제목 설정
- 체크박스를 통한 다중 선택 및 삭제

### 3. 타임라인 시각화 (대폭 개선 ✨)
- **분기별 큰 눈금**: 24.Q1, 24.Q2, 24.Q3, 24.Q4 형식으로 표시
- **월별 작은 눈금**: 12개월 정확히 표시
- 노드 날짜 기준 ±1년 범위만 표시
- 노드를 타임라인 막대 위/아래에 정확히 배치
- 자동 겹침 방지 레이아웃
- 파란색 타임라인 막대 (#007AFF)

### 4. 노드(이벤트) 관리
- **모양**: 동그라미, 세모, 네모, 별, 마름모
- **색상**: 컬러 팔레트로 자유 선택
- **날짜**: YY.MM (예: 24.10) 또는 YY.Qn (예: 24.Q3) 형식
  - ⚠️ 날짜 입력 양식 자동 검증 (잘못된 형식 입력 시 알림)
- **내용**: 노드 옆 표시 텍스트
- **메모**: 마우스 오버 시 툴팁으로 표시 (정확히 작동)
- **첨부 파일**: 클릭 시 파일 실행
- **선택 기능**: 노드 왼쪽의 체크박스로 선택 (한 번에 하나만 선택 가능)

### 5. 데이터 영속성
- `raw.json` 파일에 모든 데이터 저장
- Ctrl+S 단축키로 빠른 저장
- JSON 형식으로 투명한 데이터 구조

### 6. 검색 및 필터
- 키워드 검색 (제목, 부제목, 노드 내용)
- 모양별 필터링

### 7. 이미지 내보내기
- PNG/JPG 형식으로 저장
- 보고서나 프레젠테이션에 활용

## 기술 스택

- **언어**: Python 3.11
- **GUI 프레임워크**: PyQt6
- **이미지 처리**: Pillow (PIL)
- **데이터 저장**: JSON

## 사용 방법

1. **로그인**: MCI / mci2025! 로 로그인
2. **Data Load**: 기존 데이터 불러오기 (처음 실행 시 빈 상태)
3. **Milestone 생성**: 새 마일스톤 블록 추가
4. **Node 추가**: 타임라인에 이벤트 추가
   - 날짜는 반드시 **24.10** 또는 **24.Q2** 형식으로 입력
5. **Node 선택**: 노드 왼쪽 체크박스 클릭하여 선택
6. **Node 수정/삭제**: 선택 후 버튼 클릭
7. **Data 저장**: Ctrl+S 또는 버튼으로 저장

## 디자인 원칙

1. **단순함과 직관성**: 설명서 없이 사용 가능한 UI
2. **시각적 명료성**: 한눈에 파악 가능한 정보 구조
3. **직접 조작과 즉각적인 피드백**: 부드러운 인터랙션
4. **데이터 소유권과 안전성**: 로컬 저장, 투명한 데이터 구조
5. **라이트 모드 우선**: 다양한 사용자 선호도 고려

## UI/UX 특징

- **라이트 테마**: 애플 스타일의 깔끔한 흰색 배경
- **색상 팔레트**:
  - Primary Blue: #007AFF
  - Background: #f5f5f7, #ffffff
  - Text: #1d1d1f
  - Secondary: #86868b
  - Border: #d2d2d7, #e8e8ed
- **타이포그래피**: Apple SD Gothic Neo 폰트
- **부드러운 인터랙션**: 호버 시 색상 변화
- **명확한 피드백**: 선택 상태, 버튼 상태 명확히 표시

## 개발 환경

- Python 가상 환경 자동 관리
- PyQt6 시스템 의존성 (qt6.qtbase, qt6.qtwayland, libGL 등)
- VNC를 통한 GUI 표시

## 사용자 선호사항

- **디자인**: 라이트 모드 선호 (다크모드는 선호하지 않음)
- 모든 코드는 한글 주석 및 독스트링 사용
- PEP 8 스타일 가이드 준수
- 명확한 변수명과 함수명 사용
- 모듈 분리를 통한 코드 구조화
- 애플 스타일의 현대적인 UI/UX

## 날짜 형식 규칙

노드 추가 시 날짜는 다음 형식만 허용:
- **YY.MM**: 24.10, 24.01 (2자리 연도.월)
- **YY.Qn**: 24.Q1, 24.Q2, 24.Q3, 24.Q4 (2자리 연도.분기)

잘못된 형식 입력 시 자동으로 알림 표시
