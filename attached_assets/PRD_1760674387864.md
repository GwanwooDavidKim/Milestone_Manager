# 제품 요구사항 정의서 (PRD): Milestone Manager

## 1. 개요 (Overview)

**Milestone Manager**는 사용자가 프로젝트나 개인의 목표에 대한 마일스톤과 주요 이벤트(노드)를 시각적으로 생성, 수정, 관리할 수 있도록 돕는 데스크톱 애플리케이션이다. 모든 데이터는 로컬 `json` 파일에 저장되어 데이터의 영속성을 보장하며, 직관적인 GUI를 통해 복잡한 타임라인을 쉽게 파악하고 유지보수할 수 있도록 지원한다.

---

## 2. 목표 (Goals)

* **핵심 목표:** 사용자가 타임라인 기반의 마일스톤을 직관적으로 생성하고 관리할 수 있는 그래픽 인터페이스를 제공한다.
* **부가 목표:**
  * 생성된 데이터를 로컬 파일(`raw.json`)에 안정적으로 저장하고 불러올 수 있다.
  * 단일 실행 파일(`.exe`) 형태로 패키징하여 배포 및 사용이 용이하게 한다.
  * 간단한 라이선스 관리(사용 만료일) 기능을 포함한다.

---

## 3. 기능 요구사항 (Functional Requirements)

### FR-01: 사용자 인증 및 라이선스
- **[로그인]** 프로그램 시작 시, 하드코딩된 단일 계정 정보를 통해 로그인할 수 있다.
- **[사용 기한]** 프로그램에 설정된 만료일을 기준으로 사용 가능 여부를 체크하며, 만료일이 지났을 경우 프로그램이 실행되지 않는다.

### FR-02: 데이터 관리
- **[데이터 로드]** 'Data Load' 버튼을 통해 프로그램과 동일한 경로에 있는 `raw.json` 파일을 불러온다. 파일이 없을 경우, 새로운 데이터 구조를 생성할 준비를 한다.
- **[데이터 저장]** 'Data 저장' 버튼 또는 단축키 `Ctrl+S`를 통해 현재 GUI 상의 모든 마일스톤 및 노드 정보를 `raw.json` 파일에 덮어쓴다.

### FR-03: 마일스톤 블록(Block) 관리
- **[생성]** 'Milestone 생성' 버튼 클릭 시, 제목과 부제목을 입력받는 다이얼로그(Dialog) 창을 띄운다.
- **[시각화]** 입력 완료 시, 'Liquid Glass' 스타일의 테두리를 가진 블록을 생성한다. 블록 내에는 제목, 부제목, 그리고 타임라인 막대가 표시된다.
- **[선택 및 삭제]** 각 블록 좌측의 체크박스를 통해 하나 이상의 블록을 선택할 수 있다. '삭제' 버튼 클릭 시, 확인 메시지를 거쳐 선택된 모든 블록을 삭제한다.

### FR-04: 타임라인 시각화 (Timeline Visualization)
- **[기본 표시]** 마일스톤 블록 내에 `YY.MM` (예: `24.10`) 형식의 눈금을 가진 수평 타임라인을 표시한다.
- **[줌 & 팬 기능]**
  * **Zoom:** 마우스 휠 스크롤을 통해 타임라인의 표시 범위를 확대(월 단위)하거나 축소(연도 단위)할 수 있다.
  * **Pan:** 타임라인 영역을 마우스로 클릭 후 좌우로 드래그하여 과거 및 미래 시점을 탐색할 수 있다.

### FR-05: 노드(Node) 관리
- **[생성]** 마일스톤 블록 내 'Node 추가' 버튼 클릭 시, 노드 정보 입력을 위한 다이얼로그 창을 띄운다.
- **[입력 항목]**
  * **모양:** 드롭다운 메뉴로 동그라미, 세모, 네모, 별 등 predefined 모양을 선택한다.
  * **색상:** 컬러 팔레트 또는 HEX 코드로 노드의 색상을 지정한다.
  * **날짜:** `YY.MM` (예: `24.10`) 또는 `YY.Qn` (예: `24.Q3`) 형식으로만 입력받는다.
  * **내용:** 노드 옆에 표시될 짧은 텍스트 (예: "노광기 2대 반입")를 입력한다.
  * **메모:** 상세 설명. 노드에 마우스를 올리면(hover) 툴팁(Tooltip) 형태로 메모 내용 전체가 표시된다.
  * **첨부 파일:** 파일 선택기를 통해 로컬 파일을 연결한다.
- **[표시 방식]**
  * `YY.MM` 형식의 날짜는 타임라인의 해당 월 위치에 `YY.Qn(MM)` 형식으로 노드를 표시한다.
  * `YY.Qn` 형식의 날짜는 해당 분기(3개월)에 걸친 범위(Range) 형태로 표시한다.
  * 첨부 파일이 있는 경우, 노드 옆에 작은 클립 아이콘을 표시하며, 클릭 시 연결된 파일을 실행한다.
- **[수정 및 삭제]**
  * 타임라인 위의 노드를 클릭하여 단일 선택한다.
  * 'Node 수정' 버튼 클릭 시, 기존 정보가 채워진 다이얼로그 창에서 내용을 수정한다.
  * 'Node 삭제' 버튼 클릭 시, 선택된 노드를 즉시 삭제한다.

### FR-06: 자동 레이아웃 (Automatic Layout)
- **[겹침 방지]** 가까운 날짜의 노드들이 서로 겹치지 않도록 자동으로 위치를 조정한다.
  * 노드는 타임라인 막대의 위/아래에 지그재그 형태로 배치된다.
  * 필요시 노드와 타임라인을 잇는 연결선의 길이를 동적으로 조절하여 겹침을 최소화한다.
- **[동적 높이 조절]** 노드의 자동 배치 결과에 따라, 마일스톤 블록의 전체 세로 높이가 자동으로 조절되어 모든 노드가 잘 보이도록 한다.

### FR-07: 검색 및 필터 (Search & Filter)
- **[검색]** 전체 마일스톤을 대상으로 제목, 부제목, 노드 내용에 포함된 키워드를 검색하는 기능을 제공한다.
- **[필터]** 노드의 모양, 색상, 특정 기간 등으로 화면에 표시될 노드를 필터링하는 기능을 제공한다.

### FR-08: 내보내기 (Export)
- **[이미지 저장]** 현재 화면에 보이는 특정 마일스톤 블록을 PNG 또는 JPG 형식의 이미지 파일로 저장하는 기능을 제공한다.

---

## 4. 비기능 요구사항 (Non-Functional Requirements)

- **[플랫폼]** Windows 데스크톱 애플리케이션 (`.exe`)
- **[기술 스택]** Python 3.x, GUI 라이브러리(PyQt, PySide, CustomTkinter 등), PyInstaller
- **[성능]** 수백 개의 노드가 추가되어도 UI의 반응성(줌, 팬, 드래그)이 저하되지 않아야 한다.
- **[사용성]** 사용자가 매뉴얼 없이도 대부분의 기능을 직관적으로 사용할 수 있어야 한다.

